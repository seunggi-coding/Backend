<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <link rel="stylesheet" href="/css/header.css">
    <link rel="stylesheet" href="/css/footer.css">
    <link rel="stylesheet" href="/css/cropList.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gamja+Flower&display=swap" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
</head>
<body style="box-sizing: border-box; padding: 0; margin: 0;">
    <div th:replace="~{layout/header :: header}"></div>

    <section id="crop-environment">
        <div>
            <h1>작물 재배환경</h1>
            <table>
                <thead>
                <tr>
                    <th></th>
                    <th>작물 이름</th>
                    <th>필요한 햇빛</th>
                    <th>필요한 물의 양</th>
                    <th>작성 날짜</th>
                    <th>작성자</th>
                    <th th:if="${userPrincipal.isAdmin}">삭제 버튼</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="crop, iterStat : ${cropList}">
                    <td th:text="${crop.id}" th:data-id="${crop.id}">1</td>
                    <td th:text="${crop.cropName}">토마토</td>
                    <td th:text="${crop.env_sun}">하루 6-8시간</td>
                    <td th:text="${crop.env_water}">주 1회</td>
                    <td th:text="${crop.write_date}">2024-04-07</td>
                    <td th:text="${crop.writer}">김철수</td>
                    <td th:if="${userPrincipal.isAdmin}">
                        <button type="button" class="delete-btn">삭제</button>
                    </td>
                </tr>
                </tbody>
            </table>
            <button id="write-button" th:if="${userPrincipal.isAdmin}" onclick="location.href='/write_croplist'">글쓰기</button>
        </div>
    </section>

    <div th:replace="~{layout/footer :: footer}"></div>
    <script src="/js/delete_cropList.js"></script>
</body>
</html>
